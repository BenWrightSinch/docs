# Validates changes in `docs` directory whenever changes are pushed or a pull request is submitted
# This runs for all branches except master, since pushing on master is meant to trigger a publication to ReadMe.

name: Validate

on: 
  push:
    branches-ignore: 
      - "master"
    paths:
      - "docs/**"
  pull_request:
    paths:
      - "docs/**"

jobs:

  check:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - uses: actions/setup-node@v1
      with:
        node-version: '10.x'
        registry-url: 'https://registry.npmjs.org'
    - run: npm install
    - run: npx readme-sync validate
